<header class="sticky top-0 z-40 bg-card/70 backdrop-blur-xl border-b border-border/60">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
    <a href="/" class="flex items-center gap-3 group no-underline">
      <div class="text-2xl sm:text-3xl font-extrabold tracking-tight text-primary leading-none">
        Vendex
      </div>
    </a>

    <div class="flex items-center gap-2">
      <% if (typeof headerRightHtml !== 'undefined' && headerRightHtml) { %>
        <div class="hidden sm:flex items-center gap-3">
          <%- headerRightHtml %>
        </div>
      <% } %>

      <button onclick="toggleTheme()"
        class="p-3 rounded-full hover:bg-secondary-container/60 transition-all duration-300 ease-emphasized active:scale-90"
        aria-label="Toggle theme">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="12" cy="12" r="4" /><path d="M12 2v2" /><path d="M12 20v2" />
          <path d="m4.93 4.93 1.41 1.41" /><path d="m17.66 17.66 1.41 1.41" />
          <path d="M2 12h2" /><path d="M20 12h2" />
          <path d="m6.34 17.66-1.41 1.41" /><path d="m19.07 4.93-1.41 1.41" />
        </svg>
      </button>

      <% if (typeof showCart !== 'undefined' ? showCart : true) { %>
        <button onclick="toggleCart?.()"
          class="relative p-3 rounded-full hover:bg-secondary-container/60 transition-all duration-300 ease-emphasized active:scale-90">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="8" cy="21" r="1" /><circle cx="19" cy="21" r="1" />
            <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12" />
          </svg>
          <span id="cart-badge"
            class="absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center bg-destructive text-white rounded-full text-xs font-black hidden animate-pop shadow-sm border border-card">
            0
          </span>
        </button>
      <% } %>
    </div>
  </div>
</header>
